(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{968:(e,s,r)=>{"use strict";r.d(s,{b:()=>c});var a=r(2115),t=r(3655),l=r(5155),n=a.forwardRef((e,s)=>(0,l.jsx)(t.sG.label,{...e,ref:s,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var c=n},5057:(e,s,r)=>{"use strict";r.d(s,{J:()=>n});var a=r(5155);r(2115);var t=r(968),l=r(9434);function n(e){let{className:s,...r}=e;return(0,a.jsx)(t.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}},7076:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>y});var a=r(5155),t=r(2115),l=r(6874),n=r.n(l),c=r(5695),i=r(285),o=r(5057),d=r(2523),h=r(4616),x=r(4020),m=r(4126),u=r(9848),j=r(6695),p=r(5127),f=r(4165),g=r(4838),b=r(3125);function y(){let e=(0,c.useRouter)(),[s,r]=(0,t.useState)(!1),[l,y]=(0,t.useState)(""),[N,v]=(0,t.useState)([]),[w,C]=(0,t.useState)(null),E=async()=>{try{let s=await fetch("/api/cookie/delete",{method:"GET",credentials:"include"});s.ok?e.push("/"):console.error("Error al cerrar sesi\xf3n:",s.statusText)}catch(e){console.error("Error en la solicitud de cierre de sesi\xf3n:",e)}},A=()=>{r(!0)},k=async()=>{try{let e=await fetch("/api/category");if(e.ok){let s=await e.json();v(s)}else console.error("Error al obtener categor\xedas:",e.statusText)}catch(e){console.error("Error en la solicitud:",e)}};(0,t.useEffect)(()=>{k()},[]);let S=async e=>{e.preventDefault();let s=new FormData;s.append("category",l);try{let e=await fetch("/api/category",{method:"POST",body:s});if(e.ok)y(""),r(!1),k(),b.P.success("\xa1Categor\xeda creada correctamente!",{duration:4e3,progress:!1,position:"top-left",transition:"popUp",icon:"",sound:!1});else{let s=await e.json();console.error("Error al enviar el formulario:",s.error)}}catch(e){console.error("Error en la solicitud:",e)}},$=async e=>{try{let s=await fetch("/api/category/".concat(e),{method:"DELETE"});s.ok?(v(N.filter(s=>s.id!==e)),b.P.success("\xa1Categor\xeda eliminada correctamente!",{duration:4e3,progress:!1,position:"top-left",transition:"popUp",icon:"",sound:!1})):console.error("Error al eliminar la categor\xeda:",s.statusText)}catch(e){console.error("Error en la solicitud de eliminaci\xf3n:",e)}};return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)("header",{className:"border-b bg-white",children:(0,a.jsxs)("div",{className:"container mx-auto flex items-center justify-between px-4 py-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold md:text-2xl",children:"Panel de Administraci\xf3n"}),(0,a.jsxs)("nav",{className:"flex items-center gap-4",children:[(0,a.jsx)(n(),{href:"/",className:"text-sm text-slate-600 hover:text-slate-900",children:"Ver Tienda"}),(0,a.jsx)(i.$,{size:"sm",variant:"outline",onClick:E,children:"Salir"})]})]})}),(0,a.jsx)("div",{className:"border-b bg-white px-3 py-3 w-full",children:(0,a.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,a.jsx)(i.$,{asChild:!0,children:(0,a.jsx)(n(),{href:"/dashboard",children:"Productos"})}),(0,a.jsx)(i.$,{asChild:!0,children:(0,a.jsx)(n(),{href:"/dashboard/category",children:"Categor\xedas"})}),(0,a.jsx)(i.$,{asChild:!0,children:(0,a.jsx)(n(),{href:"/dashboard/company",children:"Empresa"})})]})}),(0,a.jsx)("main",{className:"flex-1 bg-slate-50 py-8",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-8 flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Categor\xedas"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"A\xf1ade categor\xedas para clasificar tus productos."})]}),(0,a.jsxs)(i.$,{onClick:()=>A(),children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"})," A\xf1adir Categor\xeda"]})]}),(0,a.jsx)(j.Zp,{className:"mb-8",children:(0,a.jsx)(j.Wu,{className:"p-0",children:(0,a.jsxs)(p.XI,{children:[(0,a.jsx)(p.A0,{children:(0,a.jsxs)(p.Hj,{children:[(0,a.jsx)(p.nd,{children:"Nombre"}),(0,a.jsx)(p.nd,{className:"text-right",children:"Acciones"})]})}),(0,a.jsx)(p.BF,{children:0===N.length?(0,a.jsx)(p.Hj,{children:(0,a.jsx)(p.nA,{colSpan:6,className:"h-24 text-center",children:"No se encontraron categor\xedas."})}):N.map(e=>(0,a.jsxs)(p.Hj,{children:[(0,a.jsx)(p.nA,{children:e.name}),(0,a.jsx)(p.nA,{className:"text-right",children:(0,a.jsxs)(g.rI,{children:[(0,a.jsx)(g.ty,{asChild:!0,children:(0,a.jsxs)(i.$,{variant:"ghost",size:"icon",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Abrir men\xfa"})]})}),(0,a.jsxs)(g.SQ,{align:"end",children:[(0,a.jsx)(g.lp,{children:"Acciones"}),(0,a.jsx)(g.mB,{}),(0,a.jsxs)(g._2,{className:"text-red-600 focus:text-red-600",onClick:()=>$(e.id),children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]})})]},e.id))})]})})})]})}),(0,a.jsx)(f.lG,{open:s,onOpenChange:r,children:(0,a.jsxs)(f.Cf,{children:[(0,a.jsx)(f.c7,{children:(0,a.jsx)(f.L3,{children:"A\xf1adir Categor\xeda"})}),(0,a.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.J,{htmlFor:"category",children:["Nombre de la categor\xeda:",(0,a.jsx)(u.A,{className:"mr-1 h-3 w-4",color:"#ff0000"})]}),(0,a.jsx)(d.p,{id:"category",name:"category",value:l,onChange:e=>y(e.target.value),placeholder:"Ingrese el nombre de la categor\xeda",required:!0})]}),(0,a.jsxs)(f.Es,{children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),(0,a.jsx)(i.$,{type:"submit",children:"A\xf1adir"})]})]})]})})]})}},8640:(e,s,r)=>{Promise.resolve().then(r.bind(r,7076))},9848:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(9946).A)("asterisk",[["path",{d:"M12 6v12",key:"1vza4d"}],["path",{d:"M17.196 9 6.804 15",key:"1ah31z"}],["path",{d:"m6.804 9 10.392 6",key:"1b6pxd"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[415,443,628,148,152,915,781,480,441,684,358],()=>s(8640)),_N_E=e.O()}]);