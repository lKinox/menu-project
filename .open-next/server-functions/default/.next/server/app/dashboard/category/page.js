(()=>{var e={};e.id=394,e.ids=[394],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5490:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/menu-project/src/app/dashboard/category/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/menu-project/src/app/dashboard/category/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},42104:(e,r,s)=>{Promise.resolve().then(s.bind(s,5490))},51832:(e,r,s)=>{Promise.resolve().then(s.bind(s,81976))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66076:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>h,pages:()=>d,routeModule:()=>p,tree:()=>c});var t=s(65239),a=s(48088),n=s(88170),o=s.n(n),i=s(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let c={children:["",{children:["dashboard",{children:["category",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5490)),"/home/user/menu-project/src/app/dashboard/category/page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(s.bind(s,16292)),"/home/user/menu-project/src/app/dashboard/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/user/menu-project/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/user/menu-project/src/app/dashboard/category/page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/category/page",pathname:"/dashboard/category",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},73110:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(62688).A)("asterisk",[["path",{d:"M12 6v12",key:"1vza4d"}],["path",{d:"M17.196 9 6.804 15",key:"1ah31z"}],["path",{d:"m6.804 9 10.392 6",key:"1b6pxd"}]])},78148:(e,r,s)=>{"use strict";s.d(r,{b:()=>i});var t=s(43210),a=s(14163),n=s(60687),o=t.forwardRef((e,r)=>(0,n.jsx)(a.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label";var i=o},79551:e=>{"use strict";e.exports=require("url")},80013:(e,r,s)=>{"use strict";s.d(r,{J:()=>o});var t=s(60687);s(43210);var a=s(78148),n=s(4780);function o({className:e,...r}){return(0,t.jsx)(a.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}},81976:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>v});var t=s(60687),a=s(43210),n=s(85814),o=s.n(n),i=s(16189),l=s(29523),c=s(80013),d=s(89667),h=s(96474),p=s(81904),u=s(96362),x=s(73110),m=s(44493),j=s(6211),f=s(63503),g=s(21342),b=s(39247);function v(){let e=(0,i.useRouter)(),[r,s]=(0,a.useState)(!1),[n,v]=(0,a.useState)(""),[y,N]=(0,a.useState)([]),[w,C]=(0,a.useState)(null),P=async()=>{try{let r=await fetch("/api/cookie/delete",{method:"GET",credentials:"include"});r.ok?e.push("/"):console.error("Error al cerrar sesi\xf3n:",r.statusText)}catch(e){console.error("Error en la solicitud de cierre de sesi\xf3n:",e)}},A=()=>{s(!0)},k=async()=>{try{let e=await fetch("/api/category");if(e.ok){let r=await e.json();N(r)}else console.error("Error al obtener categor\xedas:",e.statusText)}catch(e){console.error("Error en la solicitud:",e)}},E=async e=>{e.preventDefault();let r=new FormData;r.append("category",n);try{let e=await fetch("/api/category",{method:"POST",body:r});if(e.ok)v(""),s(!1),k(),b.P.success("\xa1Categor\xeda creada correctamente!",{duration:4e3,progress:!1,position:"top-left",transition:"popUp",icon:"",sound:!1});else{let r=await e.json();console.error("Error al enviar el formulario:",r.error)}}catch(e){console.error("Error en la solicitud:",e)}},_=async e=>{try{let r=await fetch(`/api/category/${e}`,{method:"DELETE"});r.ok?(N(y.filter(r=>r.id!==e)),b.P.success("\xa1Categor\xeda eliminada correctamente!",{duration:4e3,progress:!1,position:"top-left",transition:"popUp",icon:"",sound:!1})):console.error("Error al eliminar la categor\xeda:",r.statusText)}catch(e){console.error("Error en la solicitud de eliminaci\xf3n:",e)}};return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)("header",{className:"border-b bg-white",children:(0,t.jsxs)("div",{className:"container mx-auto flex items-center justify-between px-4 py-4",children:[(0,t.jsx)("h1",{className:"text-xl font-bold md:text-2xl",children:"Panel de Administraci\xf3n"}),(0,t.jsxs)("nav",{className:"flex items-center gap-4",children:[(0,t.jsx)(o(),{href:"/",className:"text-sm text-slate-600 hover:text-slate-900",children:"Ver Tienda"}),(0,t.jsx)(l.$,{size:"sm",variant:"outline",onClick:P,children:"Salir"})]})]})}),(0,t.jsx)("div",{className:"border-b bg-white px-3 py-3 w-full",children:(0,t.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,t.jsx)(l.$,{asChild:!0,children:(0,t.jsx)(o(),{href:"/dashboard",children:"Productos"})}),(0,t.jsx)(l.$,{asChild:!0,children:(0,t.jsx)(o(),{href:"/dashboard/category",children:"Categor\xedas"})}),(0,t.jsx)(l.$,{asChild:!0,children:(0,t.jsx)(o(),{href:"/dashboard/company",children:"Empresa"})})]})}),(0,t.jsx)("main",{className:"flex-1 bg-slate-50 py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsxs)("div",{className:"mb-8 flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Categor\xedas"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"A\xf1ade categor\xedas para clasificar tus productos."})]}),(0,t.jsxs)(l.$,{onClick:()=>A(),children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"})," A\xf1adir Categor\xeda"]})]}),(0,t.jsx)(m.Zp,{className:"mb-8",children:(0,t.jsx)(m.Wu,{className:"p-0",children:(0,t.jsxs)(j.XI,{children:[(0,t.jsx)(j.A0,{children:(0,t.jsxs)(j.Hj,{children:[(0,t.jsx)(j.nd,{children:"Nombre"}),(0,t.jsx)(j.nd,{className:"text-right",children:"Acciones"})]})}),(0,t.jsx)(j.BF,{children:0===y.length?(0,t.jsx)(j.Hj,{children:(0,t.jsx)(j.nA,{colSpan:6,className:"h-24 text-center",children:"No se encontraron categor\xedas."})}):y.map(e=>(0,t.jsxs)(j.Hj,{children:[(0,t.jsx)(j.nA,{children:e.name}),(0,t.jsx)(j.nA,{className:"text-right",children:(0,t.jsxs)(g.rI,{children:[(0,t.jsx)(g.ty,{asChild:!0,children:(0,t.jsxs)(l.$,{variant:"ghost",size:"icon",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Abrir men\xfa"})]})}),(0,t.jsxs)(g.SQ,{align:"end",children:[(0,t.jsx)(g.lp,{children:"Acciones"}),(0,t.jsx)(g.mB,{}),(0,t.jsxs)(g._2,{className:"text-red-600 focus:text-red-600",onClick:()=>_(e.id),children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]})})]},e.id))})]})})})]})}),(0,t.jsx)(f.lG,{open:r,onOpenChange:s,children:(0,t.jsxs)(f.Cf,{children:[(0,t.jsx)(f.c7,{children:(0,t.jsx)(f.L3,{children:"A\xf1adir Categor\xeda"})}),(0,t.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.J,{htmlFor:"category",children:["Nombre de la categor\xeda:",(0,t.jsx)(x.A,{className:"mr-1 h-3 w-4",color:"#ff0000"})]}),(0,t.jsx)(d.p,{id:"category",name:"category",value:n,onChange:e=>v(e.target.value),placeholder:"Ingrese el nombre de la categor\xeda",required:!0})]}),(0,t.jsxs)(f.Es,{children:[(0,t.jsx)(l.$,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),(0,t.jsx)(l.$,{type:"submit",children:"A\xf1adir"})]})]})]})})]})}}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[447,169,454,401,111,509,495,411,12],()=>s(66076));module.exports=t})();