(()=>{var e={};e.id=105,e.ids=[105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12709:(e,s,r)=>{Promise.resolve().then(r.bind(r,96675))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},56572:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>o,routeModule:()=>x,tree:()=>c});var a=r(65239),t=r(48088),i=r(88170),n=r.n(i),l=r(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(s,d);let c={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80559)),"/home/user/menu-project/src/app/dashboard/page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,16292)),"/home/user/menu-project/src/app/dashboard/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/user/menu-project/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/home/user/menu-project/src/app/dashboard/page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},76261:(e,s,r)=>{Promise.resolve().then(r.bind(r,80559))},79551:e=>{"use strict";e.exports=require("url")},80559:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/menu-project/src/app/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/menu-project/src/app/dashboard/page.tsx","default")},96675:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>w});var a=r(60687),t=r(43210),i=r(85814),n=r.n(i),l=r(30474),d=r(16189),c=r(29523),o=r(44493),h=r(63503),x=r(89667),m=r(6211),p=r(21342),u=r(96474),j=r(62688);let f=(0,j.A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var v=r(81904);let b=(0,j.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var g=r(96362),N=r(39247);function w(){let e=(0,d.useRouter)(),[s,r]=(0,t.useState)(""),[i,j]=(0,t.useState)(null),[w,y]=(0,t.useState)(!1),[C,P]=(0,t.useState)("table"),[A,k]=(0,t.useState)([]);console.log(A);let E=A.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())),_=async()=>{if(null!==i)try{let e=await fetch(`/api/products/edit/${i}`,{method:"DELETE"});e.ok?(k(A.filter(e=>e.id!==i)),N.P.success("\xa1Producto eliminado correctamente!",{duration:4e3,progress:!1,position:"top-left",transition:"popUp",icon:"",sound:!1}),console.log("Producto eliminado con \xe9xito")):console.error("Error al eliminar el producto:",e.statusText)}catch(e){console.error("Error en la solicitud de eliminaci\xf3n:",e)}finally{j(null),y(!1)}},$=e=>{j(e),y(!0)},q=async()=>{try{let s=await fetch("/api/cookie/delete",{method:"GET",credentials:"include"});s.ok?e.push("/"):console.error("Error al cerrar sesi\xf3n:",s.statusText)}catch(e){console.error("Error en la solicitud de cierre de sesi\xf3n:",e)}};return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)("header",{className:"border-b bg-white",children:(0,a.jsxs)("div",{className:"container mx-auto flex items-center justify-between px-4 py-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold md:text-2xl",children:"Panel de Administraci\xf3n"}),(0,a.jsxs)("nav",{className:"flex items-center gap-4",children:[(0,a.jsx)(n(),{href:"/",className:"text-sm text-slate-600 hover:text-slate-900",children:"Ver Tienda"}),(0,a.jsx)(c.$,{size:"sm",variant:"outline",onClick:q,children:"Salir"})]})]})}),(0,a.jsx)("div",{className:"border-b bg-white px-3 py-3 w-full",children:(0,a.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,a.jsx)(c.$,{asChild:!0,children:(0,a.jsx)(n(),{href:"/dashboard",children:"Productos"})}),(0,a.jsx)(c.$,{asChild:!0,children:(0,a.jsx)(n(),{href:"/dashboard/category",children:"Categor\xedas"})}),(0,a.jsx)(c.$,{asChild:!0,children:(0,a.jsx)(n(),{href:"/dashboard/company",children:"Empresa"})})]})}),(0,a.jsx)("main",{className:"flex-1 bg-slate-50 py-8",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-8 flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Productos"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Gestiona los productos de tu cat\xe1logo"})]}),(0,a.jsx)(c.$,{asChild:!0,children:(0,a.jsxs)(n(),{href:"/dashboard/create",children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"})," A\xf1adir Producto"]})})]}),(0,a.jsx)(o.Zp,{className:"mb-8",children:(0,a.jsx)(o.Wu,{className:"p-4 pt-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,a.jsx)(f,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-400"}),(0,a.jsx)(x.p,{type:"search",placeholder:"Buscar productos...",className:"pl-8",value:s,onChange:e=>r(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.$,{variant:"table"===C?"default":"outline",size:"sm",onClick:()=>P("table"),children:"Tabla"}),(0,a.jsx)(c.$,{variant:"grid"===C?"default":"outline",size:"sm",onClick:()=>P("grid"),children:"Cuadr\xedcula"})]})]})})}),"table"===C&&(0,a.jsx)(o.Zp,{children:(0,a.jsx)(o.Wu,{className:"p-0",children:(0,a.jsxs)(m.XI,{children:[(0,a.jsx)(m.A0,{children:(0,a.jsxs)(m.Hj,{children:[(0,a.jsx)(m.nd,{className:"w-[80px]",children:"Imagen"}),(0,a.jsx)(m.nd,{children:"Nombre"}),(0,a.jsx)(m.nd,{className:"hidden md:table-cell",children:"Descripci\xf3n"}),(0,a.jsx)(m.nd,{children:"Precio"}),(0,a.jsx)(m.nd,{className:"w-[100px] text-right",children:"Acciones"})]})}),(0,a.jsx)(m.BF,{children:0===E.length?(0,a.jsx)(m.Hj,{children:(0,a.jsx)(m.nA,{colSpan:6,className:"h-24 text-center",children:"No se encontraron productos."})}):E.map(s=>(0,a.jsxs)(m.Hj,{children:[(0,a.jsx)(m.nA,{children:(0,a.jsx)("div",{className:"relative h-10 w-10 overflow-hidden rounded-md",children:(0,a.jsx)(l.default,{src:s.img,alt:s.name,fill:!0,className:"object-cover"})})}),(0,a.jsx)(m.nA,{children:s.name}),(0,a.jsx)(m.nA,{className:"hidden max-w-xs truncate md:table-cell",children:s.description}),(0,a.jsxs)(m.nA,{children:["$ ",s.price]}),(0,a.jsx)(m.nA,{className:"text-right",children:(0,a.jsxs)(p.rI,{children:[(0,a.jsx)(p.ty,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"ghost",size:"icon",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Abrir men\xfa"})]})}),(0,a.jsxs)(p.SQ,{align:"end",children:[(0,a.jsx)(p.lp,{children:"Acciones"}),(0,a.jsx)(p.mB,{}),(0,a.jsxs)(p._2,{onClick:()=>e.push(`dashboard/edit/${s.id}`),children:[(0,a.jsx)(b,{className:"mr-2 h-4 w-4"}),"Editar"]}),(0,a.jsxs)(p._2,{className:"text-red-600 focus:text-red-600",onClick:()=>$(s.id),children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]})})]},s.id))})]})})}),"grid"===C&&(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:0===E.length?(0,a.jsx)("div",{className:"col-span-full py-12 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No se encontraron productos."})}):E.map(s=>(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)("div",{className:"relative aspect-square overflow-hidden",children:(0,a.jsx)(l.default,{src:s.img,alt:s.name,fill:!0,className:"object-cover transition-all hover:scale-105"})}),(0,a.jsxs)(o.aR,{className:"p-4 pb-0",children:[(0,a.jsx)(o.ZB,{className:"text-lg",children:s.name}),(0,a.jsx)(o.BT,{className:"line-clamp-2",children:s.description})]}),(0,a.jsx)(o.Wu,{className:"p-4 pt-2",children:(0,a.jsx)("p",{className:"font-medium",children:s.price})}),(0,a.jsxs)(o.wL,{className:"flex justify-between p-4 pt-0",children:[(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>e.push(`/editar-producto/${s.id}`),children:[(0,a.jsx)(b,{className:"mr-2 h-4 w-4"}),"Editar"]}),(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>$(s.id),children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]},s.id))})]})}),(0,a.jsx)("footer",{className:"border-t bg-white py-6",children:(0,a.jsx)("div",{className:"container mx-auto px-4 text-center text-sm text-slate-600",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Tu Empresa. Panel de Administraci\xf3n."]})})}),(0,a.jsx)(h.lG,{open:w,onOpenChange:y,children:(0,a.jsxs)(h.Cf,{children:[(0,a.jsxs)(h.c7,{children:[(0,a.jsx)(h.L3,{children:"Confirmar eliminaci\xf3n"}),(0,a.jsx)(h.rr,{children:"\xbfEst\xe1s seguro de que deseas eliminar este producto? Esta acci\xf3n no se puede deshacer."})]}),(0,a.jsxs)(h.Es,{children:[(0,a.jsx)(c.$,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),(0,a.jsx)(c.$,{variant:"destructive",onClick:_,children:"Eliminar"})]})]})})]})}}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[447,169,62,200,532,542,411,474,12],()=>r(56572));module.exports=a})();